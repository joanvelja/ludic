# Plan: Scan Examples/Scripts for Chat Templating + Tokenization Edge Cases
> From: Planner | To: Doer | Timestamp: 2026-01-21 14:23:05
> Upstream Directive: user request in session

## Objective

**Deliverable**: Findings from examples/scripts/research for chat templating usage and tokenization pitfalls affecting RM training or generation prompts.
**Definition of Done**: List of relevant files with any issues or confirmation of correctness.

## Pre-Execution Checklist

Before starting, Doer should verify:
- [ ] Repo root is `/Users/joalja/Documents/Github/ext/ludic`
- [ ] `CONSIDERATIONS.md` is read and in mind

## Execution Plan

### Phase 1: Locate relevant files
**Goal**: Identify chat templating or tokenization usage outside `src/`.

| Step | Action | Target | Details | Verification |
|------|--------|--------|---------|--------------|
| 1.1 | Search | `examples/` `scripts/` `research/` `tests/` | `rg "apply_chat_template|chat_template|add_generation_prompt|tokenize|retoken"` | Hits list |
| 1.2 | Inspect | Each hit | Confirm message ordering and prompt insertion | Notes per file |

**Phase 1 Checkpoint**: All external hits reviewed.

### Phase 2: RM relevance
**Goal**: Flag any RM training tokenization paths in scripts/examples.

| Step | Action | Target | Details | Verification |
|------|--------|--------|---------|--------------|
| 2.1 | Filter | Hits | Identify RM training code paths | RM-related list |
| 2.2 | Assess | RM paths | Note any back-and-forth tokenization | Findings logged |

**Phase 2 Checkpoint**: RM-related tokenization issues recorded.

## Constraints

### Must Do
- [ ] Provide file/line references
- [ ] Do not modify code

## Escalation Protocol

| Trigger | Action |
|---------|--------|
| No hits found | `/escalate planner` with confirmation |
| Unclear role ordering | `/escalate planner` with question |

## Verification Checklist

When complete, Doer should verify:
- [ ] External directories scanned
- [ ] Findings summarized

## Handoff Instruction

When execution is complete:
- If all verification passes: `/escalate planner` with completion summary
- If blocked: `/escalate planner` with blocker details

Estimated execution complexity: Low
Estimated time: 20-30 min
